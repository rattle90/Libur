{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./styles.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const apiKey='AIzaSyAu7vyp9P6KKQzo4awfHcRS2cw4Aj5i4Fs';const playlistId='PL46GhFqJIVbYE6k1rf-ajz1zRj7ab9DFX';const maxResults=50;const PlaylistSection=()=>{const[allItems,setAllItems]=useState([]);const[items,setItems]=useState([]);const[searchQuery,setSearchQuery]=useState('');const[selectedVideo,setSelectedVideo]=useState(null);const[currentPage,setCurrentPage]=useState(0);useEffect(()=>{fetchAllPlaylistItems();},[]);const fetchAllPlaylistItems=async()=>{let allItems=[];let nextPageToken='';do{const response=await fetch(\"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=\".concat(maxResults,\"&playlistId=\").concat(playlistId,\"&key=\").concat(apiKey,\"&pageToken=\").concat(nextPageToken));const data=await response.json();allItems=[...allItems,...data.items];nextPageToken=data.nextPageToken||'';}while(nextPageToken);setAllItems(allItems);setItems(allItems.slice(0,maxResults));};const displayResults=itemsToDisplay=>{return itemsToDisplay.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"video\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.snippet.title}),/*#__PURE__*/_jsx(\"img\",{src:item.snippet.thumbnails.medium.url,alt:item.snippet.title,onClick:()=>playVideo(item.snippet.resourceId.videoId)})]},item.snippet.resourceId.videoId));};const playVideo=videoId=>{setSelectedVideo(videoId);};const handleSearch=e=>{const query=e.target.value.toLowerCase();setSearchQuery(query);if(query===''){setItems(allItems.slice(0,maxResults));setCurrentPage(0);}else{const filteredItems=allItems.filter(item=>item.snippet.title.toLowerCase().includes(query));setItems(filteredItems);}};const handleNextPage=()=>{const startIndex=(currentPage+1)*maxResults;const nextItems=allItems.slice(startIndex,startIndex+maxResults);if(nextItems.length>0){setItems(nextItems);setCurrentPage(currentPage+1);}};const handlePrevPage=()=>{const startIndex=(currentPage-1)*maxResults;const prevItems=allItems.slice(startIndex,startIndex+maxResults);if(startIndex>=0){setItems(prevItems);setCurrentPage(currentPage-1);}};return/*#__PURE__*/_jsxs(\"div\",{id:\"playlist-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Our Playlist\"}),/*#__PURE__*/_jsx(\"div\",{id:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"search-input\",placeholder:\"Search...\",value:searchQuery,onChange:handleSearch})}),selectedVideo&&/*#__PURE__*/_jsx(\"div\",{id:\"video-player\",children:/*#__PURE__*/_jsx(\"iframe\",{id:\"player\",width:\"560\",height:\"315\",src:\"https://www.youtube.com/embed/\".concat(selectedVideo,\"?autoplay=1\"),frameBorder:\"0\",allow:\"autoplay; encrypted-media\",allowFullScreen:true})}),/*#__PURE__*/_jsx(\"div\",{id:\"results\",children:displayResults(items)}),/*#__PURE__*/_jsxs(\"div\",{id:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"prev-button\",onClick:handlePrevPage,disabled:currentPage===0,children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{id:\"next-button\",onClick:handleNextPage,disabled:(currentPage+1)*maxResults>=allItems.length,children:\"Next\"})]})]});};export default PlaylistSection;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","apiKey","playlistId","maxResults","PlaylistSection","allItems","setAllItems","items","setItems","searchQuery","setSearchQuery","selectedVideo","setSelectedVideo","currentPage","setCurrentPage","fetchAllPlaylistItems","nextPageToken","response","fetch","concat","data","json","slice","displayResults","itemsToDisplay","map","item","className","children","snippet","title","src","thumbnails","medium","url","alt","onClick","playVideo","resourceId","videoId","handleSearch","e","query","target","value","toLowerCase","filteredItems","filter","includes","handleNextPage","startIndex","nextItems","length","handlePrevPage","prevItems","id","type","placeholder","onChange","width","height","frameBorder","allow","allowFullScreen","disabled"],"sources":["C:/Users/asus/Downloads/ultah/src/components/PlaylistSection.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./styles.css\";\r\n\r\nconst apiKey = 'AIzaSyAu7vyp9P6KKQzo4awfHcRS2cw4Aj5i4Fs';\r\nconst playlistId = 'PL46GhFqJIVbYE6k1rf-ajz1zRj7ab9DFX';\r\nconst maxResults = 50;\r\n\r\nconst PlaylistSection = () => {\r\n  const [allItems, setAllItems] = useState([]);\r\n  const [items, setItems] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchAllPlaylistItems();\r\n  }, []);\r\n\r\n  const fetchAllPlaylistItems = async () => {\r\n    let allItems = [];\r\n    let nextPageToken = '';\r\n\r\n    do {\r\n      const response = await fetch(\r\n        `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=${maxResults}&playlistId=${playlistId}&key=${apiKey}&pageToken=${nextPageToken}`\r\n      );\r\n      const data = await response.json();\r\n      allItems = [...allItems, ...data.items];\r\n      nextPageToken = data.nextPageToken || '';\r\n    } while (nextPageToken);\r\n\r\n    setAllItems(allItems);\r\n    setItems(allItems.slice(0, maxResults));\r\n  };\r\n\r\n  const displayResults = (itemsToDisplay) => {\r\n    return itemsToDisplay.map((item) => (\r\n      <div className=\"video\" key={item.snippet.resourceId.videoId}>\r\n        <h3>{item.snippet.title}</h3>\r\n        <img\r\n          src={item.snippet.thumbnails.medium.url}\r\n          alt={item.snippet.title}\r\n          onClick={() => playVideo(item.snippet.resourceId.videoId)}\r\n        />\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  const playVideo = (videoId) => {\r\n    setSelectedVideo(videoId);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    const query = e.target.value.toLowerCase();\r\n    setSearchQuery(query);\r\n\r\n    if (query === '') {\r\n      setItems(allItems.slice(0, maxResults));\r\n      setCurrentPage(0);\r\n    } else {\r\n      const filteredItems = allItems.filter((item) =>\r\n        item.snippet.title.toLowerCase().includes(query)\r\n      );\r\n      setItems(filteredItems);\r\n    }\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    const startIndex = (currentPage + 1) * maxResults;\r\n    const nextItems = allItems.slice(startIndex, startIndex + maxResults);\r\n    if (nextItems.length > 0) {\r\n      setItems(nextItems);\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  const handlePrevPage = () => {\r\n    const startIndex = (currentPage - 1) * maxResults;\r\n    const prevItems = allItems.slice(startIndex, startIndex + maxResults);\r\n    if (startIndex >= 0) {\r\n      setItems(prevItems);\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"playlist-section\">\r\n      <h2>Our Playlist</h2>\r\n      <div id=\"search-container\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"search-input\"\r\n          placeholder=\"Search...\"\r\n          value={searchQuery}\r\n          onChange={handleSearch}\r\n        />\r\n      </div>\r\n      {selectedVideo && (\r\n        <div id=\"video-player\">\r\n          <iframe\r\n            id=\"player\"\r\n            width=\"560\"\r\n            height=\"315\"\r\n            src={`https://www.youtube.com/embed/${selectedVideo}?autoplay=1`}\r\n            frameBorder=\"0\"\r\n            allow=\"autoplay; encrypted-media\"\r\n            allowFullScreen\r\n          ></iframe>\r\n        </div>\r\n      )}\r\n      <div id=\"results\">\r\n        {displayResults(items)}\r\n      </div>\r\n      <div id=\"pagination\">\r\n        <button\r\n          id=\"prev-button\"\r\n          onClick={handlePrevPage}\r\n          disabled={currentPage === 0}\r\n        >\r\n          Previous\r\n        </button>\r\n        <button\r\n          id=\"next-button\"\r\n          onClick={handleNextPage}\r\n          disabled={(currentPage + 1) * maxResults >= allItems.length}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaylistSection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}